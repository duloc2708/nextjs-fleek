{"ast":null,"code":"import { useEffect } from \"react\";\nimport Web3 from \"web3\";\nimport { CHAINLINK_ORACLE_ABI, ETHEREUM_ORACLE_ADDRESS, DEFAULT_AGGREGATOR_ABI } from \"../abis/mainnet.oracle\";\n\nconst initializeOracle = ({\n  currentChain = process.env.INFURA_MAINNET,\n  oracleAddress = ETHEREUM_ORACLE_ADDRESS,\n  aggregatorAbi = DEFAULT_AGGREGATOR_ABI\n}) => {\n  const web3 = new Web3(new Web3.providers.HttpProvider(`${currentChain}${process.env.infuraID}`));\n  const oracle = new web3.eth.Contract(aggregatorAbi, oracleAddress);\n\n  const getLatestTimestamp = () => {\n    oracle.methods.latestTimestamp().call({}, (error, res) => {\n      if (error != null) {\n        console.log(error);\n        return;\n      }\n\n      console.log(\"Latest timestamp for price was:\", res);\n      return res;\n    });\n  };\n\n  return {\n    oracle,\n    getLatestTimestamp\n  };\n};\n\nexport default initializeOracle;","map":null,"metadata":{},"sourceType":"module"}