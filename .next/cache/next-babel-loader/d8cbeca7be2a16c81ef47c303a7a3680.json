{"ast":null,"code":"import { useEffect } from \"react\";\nimport Web3 from \"web3\";\nimport { CHAINLINK_ORACLE_ABI, ETHEREUM_ORACLE_ADDRESS, DEFAULT_AGGREGATOR_ABI } from \"../abis/mainnet.oracle\";\n\nvar initializeOracle = function initializeOracle(_ref) {\n  var _ref$currentChain = _ref.currentChain,\n      currentChain = _ref$currentChain === void 0 ? process.env.INFURA_MAINNET : _ref$currentChain,\n      _ref$oracleAddress = _ref.oracleAddress,\n      oracleAddress = _ref$oracleAddress === void 0 ? ETHEREUM_ORACLE_ADDRESS : _ref$oracleAddress,\n      _ref$aggregatorAbi = _ref.aggregatorAbi,\n      aggregatorAbi = _ref$aggregatorAbi === void 0 ? DEFAULT_AGGREGATOR_ABI : _ref$aggregatorAbi;\n  var web3 = new Web3(new Web3.providers.HttpProvider(\"\".concat(currentChain).concat(process.env.infuraID)));\n  var oracle = new web3.eth.Contract(aggregatorAbi, oracleAddress);\n\n  var getLatestTimestamp = function getLatestTimestamp() {\n    oracle.methods.latestTimestamp().call({}, function (error, res) {\n      if (error != null) {\n        console.log(error);\n        return;\n      }\n\n      console.log(\"Latest timestamp for price was:\", res);\n      return res;\n    });\n  };\n\n  return {\n    oracle: oracle,\n    getLatestTimestamp: getLatestTimestamp\n  };\n};\n\nexport default initializeOracle;","map":null,"metadata":{},"sourceType":"module"}