{"ast":null,"code":"import Web3 from \"web3\";\nimport { CHAINLINK_ORACLE_ABI, ORACLE_ADDRESS } from \"../abis/eth.oracle\";\n\nvar initializeOracle = function initializeOracle() {\n  var web3 = new Web3(new Web3.providers.HttpProvider(\"\".concat(process.env.infuraMainnet).concat(process.env.infuraID)));\n  var oracle = new web3.eth.Contract(CHAINLINK_ORACLE_ABI, ORACLE_ADDRESS);\n  oracle.methods.latestAnswer().call({}, function (error, res) {\n    if (error != null) {\n      console.log(error);\n      return;\n    }\n\n    console.log(\"Latest price was:\", res);\n  });\n  oracle.methods.latestTimestamp().call({}, function (error, res) {\n    if (error != null) {\n      console.log(error);\n      return;\n    }\n\n    console.log(\"Latest timestamp for price was:\", res);\n  });\n  return {\n    oracle: oracle\n  };\n};\n\nexport default initializeOracle;","map":{"version":3,"sources":["/Users/tgreco/g-drive/fleek-apps/nextjs-fleek/src/shared/hooks/useInfura.js"],"names":["Web3","CHAINLINK_ORACLE_ABI","ORACLE_ADDRESS","initializeOracle","web3","providers","HttpProvider","process","env","infuraMainnet","infuraID","oracle","eth","Contract","methods","latestAnswer","call","error","res","console","log","latestTimestamp"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,SAASC,oBAAT,EAA+BC,cAA/B,QAAqD,oBAArD;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,MAAMC,IAAI,GAAG,IAAIJ,IAAJ,CACX,IAAIA,IAAI,CAACK,SAAL,CAAeC,YAAnB,WACKC,OAAO,CAACC,GAAR,CAAYC,aADjB,SACiCF,OAAO,CAACC,GAAR,CAAYE,QAD7C,EADW,CAAb;AAKA,MAAMC,MAAM,GAAG,IAAIP,IAAI,CAACQ,GAAL,CAASC,QAAb,CAAsBZ,oBAAtB,EAA4CC,cAA5C,CAAf;AACAS,EAAAA,MAAM,CAACG,OAAP,CAAeC,YAAf,GAA8BC,IAA9B,CAAmC,EAAnC,EAAuC,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACrD,QAAID,KAAK,IAAI,IAAb,EAAmB;AACjBE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA;AACD;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC;AACD,GAND;AAQAP,EAAAA,MAAM,CAACG,OAAP,CAAeO,eAAf,GAAiCL,IAAjC,CAAsC,EAAtC,EAA0C,UAACC,KAAD,EAAQC,GAAR,EAAgB;AACxD,QAAID,KAAK,IAAI,IAAb,EAAmB;AACjBE,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA;AACD;;AACDE,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CF,GAA/C;AACD,GAND;AAOA,SAAO;AACLP,IAAAA,MAAM,EAANA;AADK,GAAP;AAGD,CAzBD;;AA2BA,eAAeR,gBAAf","sourcesContent":["import Web3 from \"web3\";\nimport { CHAINLINK_ORACLE_ABI, ORACLE_ADDRESS } from \"../abis/eth.oracle\";\n\nconst initializeOracle = () => {\n  const web3 = new Web3(\n    new Web3.providers.HttpProvider(\n      `${process.env.infuraMainnet}${process.env.infuraID}`\n    )\n  );\n  const oracle = new web3.eth.Contract(CHAINLINK_ORACLE_ABI, ORACLE_ADDRESS);\n  oracle.methods.latestAnswer().call({}, (error, res) => {\n    if (error != null) {\n      console.log(error);\n      return;\n    }\n    console.log(\"Latest price was:\", res);\n  });\n\n  oracle.methods.latestTimestamp().call({}, (error, res) => {\n    if (error != null) {\n      console.log(error);\n      return;\n    }\n    console.log(\"Latest timestamp for price was:\", res);\n  });\n  return {\n    oracle,\n  };\n};\n\nexport default initializeOracle;\n"]},"metadata":{},"sourceType":"module"}